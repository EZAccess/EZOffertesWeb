@inherits RelationEditFormBase

@if (editContext == null)
{
    <div class="col-sm-12">
        <div class="card card-info card-outline">
            <div class="card-header">
                <h3 class="card-title">Loading...</h3>
            </div>
            <div class="card-body">
                <SfSpinner Visible="true" Label="Loading data ..." />
            </div>
        </div>
    </div>
}
else
{
    <div class="col-sm-12">
        <div id="accordion">
            <div class="card card-info card-outline">
                <div class="card-header">
                    <h3 class="card-title w-100"><a class="d-block w-100" data-toggle="collapse" href="#RelationEditForm" aria-expanded="true">@Relation.RelationName</a></h3>
                </div>
                <div id="RelationEditForm" class="collapse show" data-parent="#accordion">
                    <EditForm EditContext="@editContext" OnSubmit="HandleSubmit" autocomplete="off">
                        <ObjectGraphDataAnnotationsValidator />
                        <ValidationSummary />
                        <div class="card-body">
                            <div class="form-group row mb-1">
                                <label class="col-sm-4 col-form-label col-form-label-sm" for="RelationId">RelationId</label>
                                <div class="col-sm-4">
                                    <InputNumber readonly @bind-Value="Relation.RelationId" id="RelationId" class="form-control-plaintext form-control-sm" />
                                </div>
                                <div class="col-sm-4">
                                    <div class="form-check">
                                        <InputCheckbox @bind-Value="Relation.IsCustomer" id="IsCustomer" class="form-check-input form-control-sm" />
                                        <label class="form-check-label col-form-label-sm" for="IsCustomer">Is Customer</label>
                                    </div>
                                    <div class="form-check">
                                        <InputCheckbox @bind-Value="Relation.IsConsumer" id="IsConsumer" class="form-check-input form-control-sm" />
                                        <label class="form-check-label col-form-label-sm" for="IsConsumer">Is Consumer</label>
                                    </div>
                                    <div class="form-check">
                                        <InputCheckbox @bind-Value="Relation.IsSupplier" id="IsSupplier" class="form-check-input form-control-sm" />
                                        <label class="form-check-label col-form-label-sm" for="IsSupplier">Is Supplier</label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row mb-1">
                                <label class="col-sm-4 col-form-label col-form-label-sm" for="RelationName">Relation Name</label>
                                <div class="col-sm-8">
                                    <InputText @bind-Value="Relation.RelationName" id="RelationName" class="form-control form-control-sm" />
                                </div>
                            </div>
                            @if (!@Relation.IsConsumer)
                            {
                                <div class="form-group row mb-1">
                                    <label class="col-sm-4 col-form-label col-form-label-sm" for="CompanyName">Company Name</label>
                                    <div class="col-sm-8">
                                        <InputText @bind-Value="Relation.CompanyName" id="CompanyName" class="form-control form-control-sm" />
                                    </div>
                                </div>
                                <div class="form-group row mb-1">
                                    <label class="col-sm-4 col-form-label col-form-label-sm" for="CompanyNamePrefix">Prefix</label>
                                    <div class="col-sm-8">
                                        <InputText @bind-Value="Relation.CompanyNamePrefix" id="CompanyNamePrefix" class="form-control form-control-sm" />
                                    </div>
                                </div>
                                <div class="form-group row my-1">
                                    <div class="col-sm-12"><p class="lead m-0">Contact Person</p></div>
                                </div>
                            }
                            <div class="form-group row mb-1">
                                <label class="col-sm-4 col-form-label col-form-label-sm" for="FamilyName">Family Name</label>
                                <div class="col-sm-8">
                                    <InputText @bind-Value="Relation.FamilyName" id="FamilyName" class="form-control form-control-sm" />
                                </div>
                            </div>
                            <div class="form-group row mb-1">
                                <label class="col-sm-4 col-form-label col-form-label-sm" for="FamilyNamePrefix">Prefix</label>
                                <div class="col-sm-8">
                                    <InputText @bind-Value="Relation.FamilyNamePrefix" id="FamilyNamePrefix" class="form-control form-control-sm" />
                                </div>
                            </div>
                            <div class="form-group row mb-1">
                                <label class="col-sm-4 col-form-label col-form-label-sm" for="FirstName">First Name</label>
                                <div class="col-sm-8">
                                    <InputText @bind-Value="Relation.FirstName" id="FirstName" class="form-control form-control-sm" />
                                </div>
                            </div>
                            <div class="form-group row mb-1">
                                <label class="col-sm-4 col-form-label col-form-label-sm" for="Title">Title</label>
                                <div class="col-sm-8">
                                    <InputText @bind-Value="Relation.Title" id="Title" class="form-control form-control-sm" />
                                </div>
                            </div>
                            @if (Relation.IsSupplier)
                            {
                                <div class="form-group row my-1">
                                    <div class="col-sm-12"><p class="lead m-0">Supplier Information</p></div>
                                </div>
                                <div class="form-group row mb-1">
                                    <label class="col-sm-4 col-form-label col-form-label-sm" for="OrderMethod">OrderMethod</label>
                                    <div class="col-sm-8">
                                        <InputSelect @bind-Value="Relation.OrderMethod" id="OrderMethod" class="form-control form-control-sm">
                                            @foreach (var value in Enum.GetValues(typeof(OrderMethod)))
                                                    {
                                                <option>@value</option>
                                                    }
                                        </InputSelect>
                                    </div>
                                </div>
                            }
                        </div>
                        <div class="card-footer">
                            <div class="row justify-content-end">
                                <button class="btn btn-default btn-sm mx-2 px-2" type="reset">Reset</button>
                                <button class="btn btn-primary btn-sm px-2" type="submit">Submit</button>
                            </div>
                        </div>
                    </EditForm>
                </div>
            </div>
        </div>
    </div>
}
